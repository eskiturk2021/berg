Telegram Бот с интеграцией OpenAI Assistant
Этот проект представляет собой Telegram бота, который использует OpenAI Assistant для ответов на вопросы пользователей о здоровом питании и образе жизни. Бот сохраняет историю разговоров для каждого пользователя и может предоставить эту историю по запросу.
Основные функции

Интеграция с OpenAI Assistant для обработки запросов пользователей.
Сохранение истории разговоров для каждого пользователя в отдельный файл.
Возможность просмотра истории разговоров.
Использование базы данных SQLite для дополнительного хранения сообщений.

Технические детали

Язык программирования: Python
Используемые библиотеки:

openai
python-telegram-bot
python-dotenv
sqlite3



Настройка и запуск

Установите необходимые зависимости:
Copypip install -r requirements.txt

Создайте файл .env в корневой директории проекта и добавьте следующие переменные:
CopyOPENAI_API_KEY=your_openai_api_key
TELEGRAM_TOKEN=your_telegram_bot_token
ASSISTANT_ID=your_openai_assistant_id

Запустите бота:
Copypython main.py


Основные команды бота

/start - начать разговор с ботом
/history - получить историю разговоров

Структура проекта

main.py - основной файл с логикой бота
requirements.txt - список зависимостей
user_conversations.db - база данных SQLite для хранения сообщений
conversation_{user_id}.txt - файлы с историей разговоров для каждого пользователя

Последние изменения

Интеграция OpenAI Assistant вместо прямых запросов к chat.completions.
Добавление функции сохранения разговоров в отдельные файлы для каждого пользователя.
Обновление функции получения истории разговоров для чтения из файла.
Сохранение времени каждого сообщения в истории разговоров.

Планы на будущее

Добавление возможности очистки истории разговоров
Улучшение обработки ошибок и повторных попыток при сбоях API
Реализация более продвинутых функций анализа диалога

Вклад в проект
Если у вас есть предложения по улучшению бота или вы нашли ошибку, пожалуйста, создайте issue или отправьте pull request.
